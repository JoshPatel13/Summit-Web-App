{"ast":null,"code":"import _classCallCheck from\"/Users/josh/Desktop/Summit-Web-App/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/josh/Desktop/Summit-Web-App/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/josh/Desktop/Summit-Web-App/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/josh/Desktop/Summit-Web-App/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import'./App.css';import ArticleWrapper from\"./components/ArticleWrapper.js\";import NewsAPI from'newsapi';import TextField from'@material-ui/core/TextField';import Button from'@material-ui/core/Button';import MenuItem from'@material-ui/core/MenuItem';import FormControl from'@material-ui/core/FormControl';import Select from'@material-ui/core/Select';import{FormLabel}from'@material-ui/core';import{spacing}from'@material-ui/system';import{FilledInput}from'@material-ui/core';var App=/*#__PURE__*/function(_React$Component){_inherits(App,_React$Component);var _super=_createSuper(App);function App(){var _this;_classCallCheck(this,App);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={technologySources:\"\",sportsSources:\"\",entertainmentSources:\"\",query:\"\",filter:\"Technology\",sort:\"Top Headlines\",currPage:1,totalPages:1,articles:[]};_this.getQ=function(event){_this.setState({query:event.target.value});};_this.setFilter=function(event){_this.setState({filter:event.target.value});};_this.setSort=function(event){_this.setState({sort:event.target.value});};_this.getSort=function(){_this.setState({currPage:1});_this.setState({totalPages:1});var filter=_this.state.filter;var sort=_this.state.sort;var query=_this.state.query;if(sort===\"Top Headlines\"){_this.getHeadlines(query,filter,_this.state.currPage);}else{_this.getArticles(query,filter,_this.state.currPage);}};_this.nextPage=function(){if(_this.state.totalPages>_this.state.currPage){var next=++_this.state.currPage;_this.setState({currPage:next});if(_this.state.sort===\"Top Headlines\"){_this.getHeadlines(_this.state.query,_this.state.filter,_this.state.currPage);}else{_this.getArticles(_this.state.query,_this.state.filter,_this.state.currPage);}}};_this.previousPage=function(){if(_this.state.currPage!=1){var prev=--_this.state.currPage;_this.setState({currPage:prev});if(_this.state.sort===\"Top Headlines\"){_this.getHeadlines(_this.state.query,_this.state.filter,_this.state.currPage);}else{_this.getArticles(_this.state.query,_this.state.filter,_this.state.currPage);}}};return _this;}_createClass(App,[{key:\"getSources\",//gets the sources for the category chosen. This is important for the everything api.\nvalue:function getSources(){var _this2=this;var newsapi=new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');var entertainmentSources=\"\";var technologySources=\"\";var sportsSources=\"\";newsapi.v2.sources({category:'technology'}).then(function(response){for(var i=0;i<response.sources.length;i++){technologySources+=response.sources[i].id+\",\";}technologySources=technologySources.replace(/,\\s*$/,\"\");_this2.setState({technologySources:technologySources});});newsapi.v2.sources({category:'entertainment'}).then(function(response){for(var i=0;i<response.sources.length;i++){entertainmentSources+=response.sources[i].id+\",\";}entertainmentSources=entertainmentSources.replace(/,\\s*$/,\"\");_this2.setState({entertainmentSources:entertainmentSources});});newsapi.v2.sources({category:'sports'}).then(function(response){for(var i=0;i<response.sources.length;i++){sportsSources+=response.sources[i].id+\",\";}sportsSources=sportsSources.replace(/,\\s*$/,\"\");_this2.setState({sportsSources:sportsSources});});}//takes the sources from the getSources method and uses it to call the everything api\n},{key:\"getArticles\",value:function getArticles(query,filter,page){var _this3=this;var newsapi=new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');var source;if(filter===\"Technology\"){source=this.state.technologySources;}else if(filter===\"Sports\"){source=this.state.sportsSources;}else if(filter===\"Entertainment\"){source=this.state.entertainmentSources;}newsapi.v2.everything({q:query,sources:source,page:this.state.currPage}).then(function(response){var totalPages=Math.ceil(response.totalResults/20);_this3.setState({articles:response.articles});_this3.setState({totalPages:totalPages});},function(err){console.error(err);});}//gets top headlines for the filter chosen\n},{key:\"getHeadlines\",value:function getHeadlines(query,filter,page){var _this4=this;var newsapi=new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');var category;if(filter===\"Technology\"){category=\"technology\";}else if(filter===\"Sports\"){category=\"sports\";}else if(filter===\"Entertainment\"){category=\"entertainment\";}newsapi.v2.topHeadlines({q:query,category:category,page:this.state.currPage}).then(function(response){var totalPages=Math.ceil(response.totalResults/20);_this4.setState({articles:response.articles});_this4.setState({totalPages:totalPages});});}},{key:\"componentDidMount\",value:function componentDidMount(){this.getSources();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"topBar\",children:[/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"Top Headlines\",id:\"sort\",onChange:this.setSort,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Top Headlines\",children:\"Top Headlines\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"All Articles\",children:\"All Articles\"})]})}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsxs(Select,{defaultValue:\"Technology\",id:\"filter\",onChange:this.setFilter,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"Technology\",children:\"Technology\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Sports\",children:\"Sports\"}),/*#__PURE__*/_jsx(MenuItem,{value:\"Entertainment\",children:\"Entertainment\"})]})}),/*#__PURE__*/_jsx(TextField,{placeholder:\"search...\",id:\"searchInput\",value:this.state.query,onChange:this.getQ}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:this.getSort,children:\"search\"})]}),/*#__PURE__*/_jsx(ArticleWrapper,{technologySources:this.state.technologySources,sportsSources:this.state.sportsSources,entertainmentSources:this.state.entertainmentSources,articles:this.state.articles}),/*#__PURE__*/_jsxs(\"div\",{className:\"bottomBar\",children:[/*#__PURE__*/_jsx(Button,{onClick:this.previousPage,children:\"Previous\"}),/*#__PURE__*/_jsx(Button,{onClick:this.nextPage,children:\"Next\"}),/*#__PURE__*/_jsxs(\"label\",{children:[\"   page count : \",this.state.currPage]})]})]});}}]);return App;}(React.Component);export default App;","map":{"version":3,"sources":["/Users/josh/Desktop/Summit-Web-App/src/App.js"],"names":["React","ArticleWrapper","NewsAPI","TextField","Button","MenuItem","FormControl","Select","FormLabel","spacing","FilledInput","App","state","technologySources","sportsSources","entertainmentSources","query","filter","sort","currPage","totalPages","articles","getQ","event","setState","target","value","setFilter","setSort","getSort","getHeadlines","getArticles","nextPage","next","previousPage","prev","newsapi","v2","sources","category","then","response","i","length","id","replace","page","source","everything","q","Math","ceil","totalResults","err","console","error","topHeadlines","getSources","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport ArticleWrapper from \"./components/ArticleWrapper.js\"\nimport NewsAPI from 'newsapi';\nimport TextField from '@material-ui/core/TextField';  \nimport Button from '@material-ui/core/Button'; \nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport { FormLabel } from '@material-ui/core';\nimport { spacing } from '@material-ui/system';\nimport { FilledInput } from '@material-ui/core';\n\n\nclass App extends React.Component {\n  //State variable to grab from fields and hold page values, sources, and articles\n  state = {\n    technologySources: \"\",\n    sportsSources: \"\",\n    entertainmentSources: \"\",\n    query:\"\",\n    filter:\"Technology\",\n    sort: \"Top Headlines\",\n    currPage: 1,\n    totalPages: 1,\n    articles: []\n  };\n//sets the query value for the api call\n  getQ = (event) => {\n    this.setState({query: event.target.value});\n  }\n //sets whether the user wants to grab news from sports, technology, or entertainment\n  setFilter = (event) => {\n    this.setState({filter: event.target.value});\n  }\n\n\n//sets whether the user wants to get the top headlines or all the articles from a filtered source\n  setSort = (event) => {\n    this.setState({sort: event.target.value});\n  }\n\n\n//this basically sents the search button in motion. You have the option of either searching through top headlines or everything\n  getSort = () => {\n    this.setState({currPage: 1});\n    this.setState({totalPages: 1});\n    let filter = this.state.filter;\n    let sort = this.state.sort;\n    let query = this.state.query;\n    if(sort === \"Top Headlines\") {\n      this.getHeadlines(query,filter, this.state.currPage)\n    }\n    else {\n      this.getArticles(query,filter, this.state.currPage)\n    }\n  }\n//next page of articles\n  nextPage = () => {\n    if (this.state.totalPages > this.state.currPage) {\n      let next = ++this.state.currPage;\n      this.setState({currPage : next});\n      if (this.state.sort === \"Top Headlines\") {\n        this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n      } else {\n        this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n      }\n    }\n  }\n  //previous page of articles\n  previousPage = () => {\n    if(this.state.currPage != 1) {\n      let prev = --this.state.currPage;\n      this.setState({currPage : prev})\n      if (this.state.sort === \"Top Headlines\") {\n        this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n      } else {\n        this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n      }\n    }\n  }\n//gets the sources for the category chosen. This is important for the everything api.\n  getSources() {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n\n    let entertainmentSources = \"\";\n    let technologySources = \"\";\n    let sportsSources = \"\";\n\n    newsapi.v2.sources({\n        category: 'technology',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            technologySources += response.sources[i].id + \",\";\n        }\n        technologySources = technologySources.replace(/,\\s*$/, \"\");\n        this.setState({technologySources: technologySources});\n    });\n    \n    newsapi.v2.sources({\n        category: 'entertainment',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            entertainmentSources += response.sources[i].id + \",\";\n        }\n        entertainmentSources = entertainmentSources.replace(/,\\s*$/, \"\");\n        this.setState({entertainmentSources: entertainmentSources});\n    });\n    \n    newsapi.v2.sources({\n        category: 'sports',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            sportsSources += response.sources[i].id + \",\";\n        }\n        sportsSources = sportsSources.replace(/,\\s*$/, \"\");\n        this.setState({sportsSources: sportsSources});\n    });\n  }\n//takes the sources from the getSources method and uses it to call the everything api\n  getArticles(query, filter, page) {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let source;\n    if (filter === \"Technology\") {\n      source = this.state.technologySources;\n    } else if (filter === \"Sports\") {\n      source = this.state.sportsSources;\n\n    } else if (filter === \"Entertainment\") {\n      source = this.state.entertainmentSources;\n\n    }\n    newsapi.v2.everything({\n      q: query,\n      sources: source,\n      page: this.state.currPage\n    }).then(response => {\n      let totalPages = Math.ceil(response.totalResults / 20);\n      this.setState({articles: response.articles});\n      this.setState({totalPages: totalPages});\n  }, err => {\n    console.error(err);\n  });\n}\n//gets top headlines for the filter chosen\n  getHeadlines(query, filter, page) {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let category;\n    if (filter === \"Technology\") {\n      category = \"technology\";\n    } else if (filter === \"Sports\") {\n      category = \"sports\";\n    } else if (filter === \"Entertainment\") {\n      category = \"entertainment\"\n    }\n    newsapi.v2.topHeadlines({\n      q: query,\n      category: category,\n      page: this.state.currPage\n    }).then(response => {\n      let totalPages = Math.ceil(response.totalResults / 20);\n      this.setState({ articles: response.articles });\n      this.setState({ totalPages: totalPages });\n    });\n  }\n\ncomponentDidMount() {\n  this.getSources(); \n}\n  \n  render() {\n    return (\n      <div>\n        <div className=\"topBar\">\n          <FormControl>\n            <Select\n              defaultValue=\"Top Headlines\"\n              id=\"sort\"\n              onChange={this.setSort}\n            >\n              <MenuItem value={\"Top Headlines\"}>Top Headlines</MenuItem>\n              <MenuItem value={\"All Articles\"}>All Articles</MenuItem>\n            </Select>\n          </FormControl>\n          <FormControl>\n            <Select\n              defaultValue=\"Technology\"\n              id=\"filter\"\n              onChange={this.setFilter}\n            >\n              <MenuItem value={\"Technology\"}>Technology</MenuItem>\n              <MenuItem value={\"Sports\"}>Sports</MenuItem>\n              <MenuItem value={\"Entertainment\"}>Entertainment</MenuItem>\n            </Select>\n          </FormControl>\n          <TextField placeholder=\"search...\" id=\"searchInput\" value={this.state.query} onChange={this.getQ}>\n          </TextField>\n          <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.getSort}>search</Button>\n        </div>\n        <ArticleWrapper technologySources={this.state.technologySources} sportsSources={this.state.sportsSources} entertainmentSources={this.state.entertainmentSources} articles={this.state.articles} />\n        <div className=\"bottomBar\">\n          <Button onClick={this.previousPage}>Previous</Button>\n          <Button onClick={this.nextPage}>Next</Button>\n          <label>   page count : {this.state.currPage}</label>\n\n        </div>\n      </div>\n\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}