{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/josh/Desktop/CapitalOne/c1/src/App.js\";\nimport React from 'react';\nimport './App.css';\nimport ArticleWrapper from \"./components/ArticleWrapper.js\";\nimport { Route, BrowserRouter, Switch } from 'react-router-dom';\nimport NewsAPI from 'newsapi';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';\nimport Button from '@material-ui/core/Button';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      technologySources: \"\",\n      sportsSources: \"\",\n      entertainmentSources: \"\",\n      query: \"\",\n      filter: \"Technology\",\n      sort: \"Top Headlines\",\n      currPage: 1,\n      totalPages: 1,\n      articles: []\n    };\n\n    this.getQ = event => {\n      this.setState({\n        query: event.target.value\n      });\n    };\n\n    this.setFilter = event => {\n      this.setState({\n        filter: event.target.value\n      });\n    };\n\n    this.setSort = event => {\n      this.setState({\n        sort: event.target.value\n      });\n    };\n\n    this.getSort = () => {\n      this.setState({\n        currPage: 1\n      });\n      this.setState({\n        totalPages: 1\n      });\n      let filter = this.state.filter;\n      let sort = this.state.sort;\n      let query = this.state.query;\n\n      if (sort === \"Top Headlines\") {\n        this.getHeadlines(query, filter, this.state.currPage);\n      } else {\n        this.getArticles(query, filter, this.state.currPage);\n      }\n    };\n\n    this.nextPage = () => {\n      if (this.state.totalPages > this.state.currPage) {\n        let next = ++this.state.currPage;\n        this.setState({\n          currPage: next\n        });\n        console.log(next);\n\n        if (this.state.sort === \"Top Headlines\") {\n          this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n        } else {\n          this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n        }\n      }\n    };\n\n    this.previousPage = () => {\n      if (this.state.currPage != 1) {\n        let prev = --this.state.currPage;\n        this.setState({\n          currPage: prev\n        });\n        console.log(prev);\n\n        if (this.state.sort === \"Top Headlines\") {\n          this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n        } else {\n          this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n        }\n      }\n    };\n  }\n\n  getSources() {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let entertainmentSources = \"\";\n    let technologySources = \"\";\n    let sportsSources = \"\";\n    newsapi.v2.sources({\n      category: 'technology'\n    }).then(response => {\n      for (let i = 0; i < response.sources.length; i++) {\n        technologySources += response.sources[i].id + \",\";\n      }\n\n      technologySources = technologySources.replace(/,\\s*$/, \"\");\n      this.setState({\n        technologySources: technologySources\n      });\n    });\n    newsapi.v2.sources({\n      category: 'entertainment'\n    }).then(response => {\n      for (let i = 0; i < response.sources.length; i++) {\n        entertainmentSources += response.sources[i].id + \",\";\n      }\n\n      entertainmentSources = entertainmentSources.replace(/,\\s*$/, \"\");\n      this.setState({\n        entertainmentSources: entertainmentSources\n      });\n    });\n    newsapi.v2.sources({\n      category: 'sports'\n    }).then(response => {\n      for (let i = 0; i < response.sources.length; i++) {\n        sportsSources += response.sources[i].id + \",\";\n      }\n\n      sportsSources = sportsSources.replace(/,\\s*$/, \"\");\n      this.setState({\n        sportsSources: sportsSources\n      });\n    });\n  }\n\n  getArticles(query, filter, page) {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let source;\n\n    if (filter === \"Technology\") {\n      source = this.state.technologySources;\n      console.log(this.state.technologySources);\n    } else if (filter === \"Sports\") {\n      source = this.state.sportsSources;\n      console.log(this.state.sportsSources);\n    } else if (filter === \"Entertainment\") {\n      source = this.state.entertainmentSources;\n      console.log(this.state.entertainmentSources);\n    }\n\n    newsapi.v2.everything({\n      q: query,\n      sources: source,\n      page: this.state.currPage\n    }).then(response => {\n      let totalPages = Math.ceil(response.totalResults / 20);\n      this.setState({\n        articles: response.articles\n      });\n      this.setState({\n        totalPages: totalPages\n      });\n      console.log(response);\n    }, err => {\n      console.error(err);\n    });\n  }\n\n  getHeadlines(query, filter, page) {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let category;\n\n    if (filter === \"Technology\") {\n      category = \"technology\";\n    } else if (filter === \"Sports\") {\n      category = \"sports\";\n    } else if (filter === \"Entertainment\") {\n      category = \"entertainment\";\n    }\n\n    newsapi.v2.topHeadlines({\n      q: query,\n      category: category,\n      page: this.state.currPage\n    }).then(response => {\n      let totalPages = Math.ceil(response.totalResults / 20);\n      console.log(response);\n      this.setState({\n        articles: response.articles\n      });\n      this.setState({\n        totalPages: totalPages\n      });\n    });\n  }\n\n  componentDidMount() {\n    this.getSources();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"topBar\",\n        children: [/*#__PURE__*/_jsxDEV(FormControl, {\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            defaultValue: \"Top Headlines\",\n            id: \"sort\",\n            onChange: this.setSort,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Top Headlines\",\n              children: \"Top Headlines\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"All Articles\",\n              children: \"All Articles\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(FormControl, {\n          children: /*#__PURE__*/_jsxDEV(Select, {\n            defaultValue: \"Technology\",\n            id: \"filter\",\n            onChange: this.setFilter,\n            children: [/*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Technology\",\n              children: \"Technology\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 196,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Sports\",\n              children: \"Sports\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(MenuItem, {\n              value: \"Entertainment\",\n              children: \"Entertainment\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(TextField, {\n          placeholder: \"search...\",\n          id: \"searchInput\",\n          value: this.state.query,\n          onChange: this.getQ\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          size: \"small\",\n          onClick: this.getSort,\n          children: \"search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(ArticleWrapper, {\n        technologySources: this.state.technologySources,\n        sportsSources: this.state.sportsSources,\n        entertainmentSources: this.state.entertainmentSources,\n        articles: this.state.articles\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bottomBar\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.previousPage,\n          children: \"Previous\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          onClick: this.nextPage,\n          children: \"Next\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 5\n    }, this);\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/josh/Desktop/CapitalOne/c1/src/App.js"],"names":["React","ArticleWrapper","Route","BrowserRouter","Switch","NewsAPI","Container","TextField","Button","MenuItem","FormControl","Select","App","Component","state","technologySources","sportsSources","entertainmentSources","query","filter","sort","currPage","totalPages","articles","getQ","event","setState","target","value","setFilter","setSort","getSort","getHeadlines","getArticles","nextPage","next","console","log","previousPage","prev","getSources","newsapi","v2","sources","category","then","response","i","length","id","replace","page","source","everything","q","Math","ceil","totalResults","err","error","topHeadlines","componentDidMount","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport './App.css';\nimport ArticleWrapper from \"./components/ArticleWrapper.js\"\nimport { Route, BrowserRouter, Switch } from  'react-router-dom';\nimport NewsAPI from 'newsapi';\nimport Container from '@material-ui/core/Container';\nimport TextField from '@material-ui/core/TextField';  \nimport Button from '@material-ui/core/Button'; \nimport MenuItem from '@material-ui/core/MenuItem';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\n\nclass App extends React.Component {\n  //State variable to grab from fields and hold page values, sources, and articles\n  state = {\n    technologySources: \"\",\n    sportsSources: \"\",\n    entertainmentSources: \"\",\n    query:\"\",\n    filter:\"Technology\",\n    sort: \"Top Headlines\",\n    currPage: 1,\n    totalPages: 1,\n    articles: []\n  };\n//sets the query value for the api call\n  getQ = (event) => {\n    this.setState({query: event.target.value});\n  }\n //sets whether the user wants to grab news from sports, technology, or \n  setFilter = (event) => {\n    this.setState({filter: event.target.value});\n  }\n\n\n\n  setSort = (event) => {\n    this.setState({sort: event.target.value});\n  }\n\n\n\n  getSort = () => {\n    this.setState({currPage: 1});\n    this.setState({totalPages: 1});\n    let filter = this.state.filter;\n    let sort = this.state.sort;\n    let query = this.state.query;\n    if(sort === \"Top Headlines\") {\n      this.getHeadlines(query,filter, this.state.currPage)\n    }\n    else {\n      this.getArticles(query,filter, this.state.currPage)\n    }\n  }\n\n  nextPage = () => {\n    if (this.state.totalPages > this.state.currPage) {\n      let next = ++this.state.currPage;\n      this.setState({currPage : next});\n      console.log(next);\n      if (this.state.sort === \"Top Headlines\") {\n        this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n      } else {\n        this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n      }\n    }\n  }\n  previousPage = () => {\n    if(this.state.currPage != 1) {\n      let prev = --this.state.currPage;\n      this.setState({currPage : prev})\n      console.log(prev);\n      if (this.state.sort === \"Top Headlines\") {\n        this.getHeadlines(this.state.query, this.state.filter, this.state.currPage);\n      } else {\n        this.getArticles(this.state.query, this.state.filter, this.state.currPage);\n      }\n    }\n  }\n\n  getSources() {\n\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n\n    let entertainmentSources = \"\";\n    let technologySources = \"\";\n    let sportsSources = \"\";\n\n    newsapi.v2.sources({\n        category: 'technology',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            technologySources += response.sources[i].id + \",\";\n        }\n        technologySources = technologySources.replace(/,\\s*$/, \"\");\n        this.setState({technologySources: technologySources});\n    });\n    \n    newsapi.v2.sources({\n        category: 'entertainment',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            entertainmentSources += response.sources[i].id + \",\";\n        }\n        entertainmentSources = entertainmentSources.replace(/,\\s*$/, \"\");\n        this.setState({entertainmentSources: entertainmentSources});\n    });\n    \n    newsapi.v2.sources({\n        category: 'sports',\n    }).then(response => {\n        for (let i = 0; i < response.sources.length; i++) {\n            sportsSources += response.sources[i].id + \",\";\n        }\n        sportsSources = sportsSources.replace(/,\\s*$/, \"\");\n        this.setState({sportsSources: sportsSources});\n    });\n  }\n\n  getArticles(query, filter, page) {\n    const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n    let source;\n    if (filter === \"Technology\") {\n      source = this.state.technologySources;\n      console.log(this.state.technologySources)\n    } else if (filter === \"Sports\") {\n      source = this.state.sportsSources;\n      console.log(this.state.sportsSources)\n\n    } else if (filter === \"Entertainment\") {\n      source = this.state.entertainmentSources;\n      console.log(this.state.entertainmentSources)\n\n    }\n    newsapi.v2.everything({\n      q: query,\n      sources: source,\n      page: this.state.currPage\n    }).then(response => {\n      let totalPages = Math.ceil(response.totalResults / 20);\n      this.setState({articles: response.articles});\n      this.setState({totalPages: totalPages});\n      console.log(response);\n  }, err => {\n    console.error(err);\n  });\n}\n\ngetHeadlines(query, filter, page) {\n  const newsapi = new NewsAPI('78b9d599c4f94f8fa3afb1a5458928d6');\n  let category;\n  if (filter === \"Technology\") {\n    category = \"technology\";\n  } else if (filter === \"Sports\") {\n    category = \"sports\";\n  } else if (filter === \"Entertainment\") {\n    category = \"entertainment\"\n  }\n  newsapi.v2.topHeadlines({\n    q: query,\n    category: category,\n    page: this.state.currPage\n  }).then(response => {\n    let totalPages = Math.ceil(response.totalResults / 20);\n    console.log(response);\n    this.setState({articles: response.articles});\n    this.setState({totalPages: totalPages});\n  });\n}\n\ncomponentDidMount() {\n  this.getSources(); \n}\n  \n  render() {\n    return (\n    <div>\n      <div className=\"topBar\">\n        <FormControl>\n          <Select\n          defaultValue=\"Top Headlines\"\n          id=\"sort\"\n          onChange={this.setSort}\n          >\n            <MenuItem value={\"Top Headlines\"}>Top Headlines</MenuItem>\n            <MenuItem value={\"All Articles\"}>All Articles</MenuItem>\n            </Select>\n            </FormControl>\n            <FormControl>\n              <Select\n              defaultValue=\"Technology\"\n              id=\"filter\"\n              onChange={this.setFilter}\n              >\n                <MenuItem value={\"Technology\"}>Technology</MenuItem>\n                <MenuItem value={\"Sports\"}>Sports</MenuItem>\n                <MenuItem value={\"Entertainment\"}>Entertainment</MenuItem>\n                </Select>\n                </FormControl>\n                <TextField placeholder=\"search...\" id=\"searchInput\" value={this.state.query} onChange={this.getQ}>\n                </TextField>\n                <Button variant=\"contained\" color=\"primary\" size=\"small\" onClick={this.getSort}>search</Button>\n                </div>\n                <ArticleWrapper technologySources={this.state.technologySources} sportsSources={this.state.sportsSources} entertainmentSources={this.state.entertainmentSources} articles={this.state.articles}/>\n                <div className=\"bottomBar\">\n                  <Button onClick={this.previousPage}>Previous</Button>\n                  <Button onClick={this.nextPage}>Next</Button>\n                  </div>\n                  </div>\n                  \n                  );\n                }\n              }\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}